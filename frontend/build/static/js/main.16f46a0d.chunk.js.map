{"version":3,"sources":["images/union2.svg","images/vector.svg","images/vector1.svg","images/vector2.svg","images/union.svg","components/Header.js","contexts/CurrentUserContext.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/Api.js","components/Card.js","components/PopupWithForm.js","components/DeletePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/Register.js","components/Login.js","components/ProtectedRoute.js","components/InfoTooltip.js","components/App.js","index.js","images/close__icon.svg"],"names":["module","exports","Header","props","path","exact","className","alt","src","headerLogo","to","email","onClick","CurrentUserContext","React","createContext","Main","userInfo","useContext","onEditAvatar","name","avatar","type","title","profileVectorButton","onEditProfile","about","onAddPlace","profileVectorAdd","Footer","ImagePopup","isOpen","url","onClose","popupVectorElement","Api","headers","this","response","ok","json","Promise","reject","statusText","err","message","token","fetch","then","_handleResponse","catch","_handleResponseError","form","method","body","JSON","stringify","item","value","password","api","Card","likes","link","onCardClick","owner","onClickLike","onCardDelete","cardId","isOwn","_id","cardDeleteButtonClassName","isLiked","some","i","cardLikeButtonClassName","length","PopupWithForm","namePopup","onSubmit","action","noValidate","close","popupVector","children","titleButton","DeletePopup","handleSubmit","EditProfilePopup","currentUser","useState","setName","description","setDescription","onUpdateUser","useEffect","evt","preventDefault","autoComplete","id","placeholder","required","maxLength","onChange","e","target","EditAvatarPopup","inputRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setLink","Register","setEmail","setPassword","register","minLength","Login","login","ProtectedRoute","loggedIn","loading","InfoTooltip","image","App","popupDeletSubmitButton","document","querySelector","popupPluseButton","popupAvatarButton","popupButton","history","useHistory","loggedIIn","setLoggedIIn","isPopupInfotooltipOpen","setIsPopupInfotooltipOpen","img","setImg","setTitle","tokenCheck","localStorage","getItem","console","log","checkToken","res","setHandleEmail","push","isLoggedIn","setIsLoggedIn","all","getUserInfo","getInitialCards","setCurrentUser","setCards","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlaceOpen","setIsAddPlaceOpen","isEditAvatarOpen","setIsEditAvatarOpen","closeAllPopups","setIsImagePopupOpen","setIsPopupDeleteOpen","isImagePopupOpen","selectedCard","setSelectedCard","handleCardClick","cards","data","isPopupDeleteOpen","cardDelete","setCardDelete","handleDeleteItem","handleEmail","Provider","removeItem","setItem","union2","statusCode","union","textContent","deleteCard","newCards","filter","c","map","whatever","key","removeLike","newCard","setLike","changeUserInfo","obj","addCard","changeAvatar","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.16f46a0d.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/union2.4072126c.svg\";","module.exports = __webpack_public_path__ + \"static/media/vector.c6f11019.svg\";","module.exports = __webpack_public_path__ + \"static/media/vector1.6bfdb354.svg\";","module.exports = __webpack_public_path__ + \"static/media/vector2.b2fce4ac.svg\";","module.exports = __webpack_public_path__ + \"static/media/union.e38b395c.svg\";","import React from 'react';\nimport headerLogo from '../images/vector.svg'\nimport { Link, Route, Switch } from 'react-router-dom'\n\nfunction Header(props) {\n    return <Switch>\n        <Route path=\"/404\" exact />\n        <Route path=\"*\" exact>\n            <header className=\"header\">\n                <img className=\"header__logo\" alt=\"Место Россия\" src={headerLogo} />\n                <Switch>\n                    <Route path=\"/sing-up\">\n                        <div className=\"header__box\">\n                            <Link className=\"header__button\" to=\"/sing-in\">Войти</Link>\n                        </div>\n                    </Route>\n                    <Route exact path=\"/\">\n                        <div className=\"header__box\">\n                            <p className=\"header__email\">{props.email}</p>\n                            <Link onClick={props.onClick} className=\"header__button\" to=\"/sing-in\">Выйти</Link>\n                        </div>\n                    </Route>\n                    <Route path=\"/sing-in\">\n                        <div className=\"header__box\">\n                            <Link className=\"header__button\" to=\"/sing-up\">Регистрация</Link>\n                        </div>\n                    </Route>\n                </Switch>\n            </header>\n\n        </Route>\n    </Switch>\n}\n\nexport default Header;","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n","import React from 'react';\nimport profileVectorButton from '../images/vector1.svg'\nimport profileVectorAdd from '../images/vector2.svg'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\n\nfunction Main(props) {\n    const userInfo = React.useContext(CurrentUserContext)\n\n    return (\n        <main>\n            <section className=\"profile\">\n                <div className=\"profile__avatar-info\">\n                    <div className=\"profile__avatar-overlay\" onClick={props.onEditAvatar}>\n                        <img name=\"avatar\" className=\"profile__avatar\" alt=\"Здесь должна быть аватарка\" src={userInfo.avatar} />\n                    </div>\n                    <div className=\"profile__info\">\n                        <div className=\"profile__button\">\n                            <h1 name=\"name\" className=\"profile__title\">{userInfo.name}</h1>\n                            <button type=\"button\" className=\"profile__edit-button\" title=\"Редактировать\">\n                                <img className=\"profile__vector-button\" src={profileVectorButton} alt=\"карандашек\" onClick={props.onEditProfile} />\n                            </button>\n                        </div>\n                        <p name=\"about\" className=\"profile__subtitle\">{userInfo.about}</p>\n                    </div>\n                </div>\n                <button type=\"button\" className=\"profile__button-add\" title=\"Добавить\" onClick={props.onAddPlace}>\n                    <img className=\"profile__vector-add\" src={profileVectorAdd} alt=\"плюсик\" />\n                </button>\n            </section>\n            <div className=\"loading\"></div>\n        </main>\n    )\n}\n\nexport default Main;","import React from 'react';\nimport { Route, Switch } from 'react-router-dom'\n\nfunction Footer() {\n    return <Switch>\n        <Route path=\"/404\" />\n        <Route path=\"*\" exact>\n            <footer className=\"footer\">\n                <p className=\"footer__title\">&copy; Pankov Pavel</p>\n            </footer>\n        </Route>\n\n    </Switch>\n}\n\nexport default Footer;","import React from 'react';\nimport popupVectorElement from '../images/close__icon.svg';\n\nfunction ImagePopup(props) {\n    return (\n        <div className={`popup popup-element ${props.isOpen && \"popup_opened\"} `}>\n            <div className=\"popup__element-container\">\n                <img className=\"popup__element-image\" alt=\"\" src={props.url} />\n                <h2 className=\"popup__element-text\">{props.title}</h2>\n                <button type=\"reset\" className=\"popup__vector-button\" onClick={props.onClose}>\n                    <img className=\"popup__vector-element\" src={popupVectorElement} alt=\"кнопка закрытия\" />\n                </button>\n            </div>\n        </div>\n    )\n}\n\nexport default ImagePopup;","\nclass Api {\n  constructor({ url, headers = {} }) {\n    this.url = url;\n    this.headers = headers;\n  }\n\n  _handleResponse(response) {\n    if (response.ok) {\n      return response.json();\n    } else {\n      return Promise.reject(response.statusText)\n    }\n  }\n\n  _handleResponseError(err) {\n    return Promise.reject(err.message)\n  }\n\n  getInitialCards(token) {\n    return fetch(`${this.url}/cards`, {\n      headers: {\n        'Authorization': `Bearer ${token}`,\n        'Content-Type': 'application/json',\n      },\n    })\n      .then(this._handleResponse)\n      .catch(this._handleResponseError)\n  }\n\n  getUserInfo(token) {\n    return fetch(`${this.url}/users/me`, {\n      headers: {\n        'Authorization': `Bearer ${token}`,\n        'Content-Type': 'application/json',\n      }\n    })\n      .then(this._handleResponse)\n      .catch(this._handleResponseError)\n  }\n\n  changeAvatar(form, token) {\n    return fetch(`${this.url}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      },\n      body: JSON.stringify({\n        avatar: form\n      })\n    })\n      .then(this._handleResponse)\n      .catch(this._handleResponseError)\n  }\n\n  addCard(item, token) {\n    return fetch(`${this.url}/cards`, {\n      method: 'POST',\n      headers: {\n        'Authorization': `Bearer ${token}`,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(item)\n    })\n      .then(this._handleResponse)\n      .catch(this._handleResponseError)\n  }\n\n  changeUserInfo(value, token) {\n    return fetch(`${this.url}/users/me`, {\n      method: 'PATCH',\n      headers: {\n        'Authorization': `Bearer ${token}`,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        name: value.name,\n        about: value.about\n      })\n    })\n      .then(this._handleResponse)\n      .catch(this._handleResponseError)\n  }\n\n  deleteCard(item, token) {\n    return fetch(`${this.url}/cards/${item}`, {\n      method: 'DELETE',\n      headers: {\n        'Authorization': `Bearer ${token}`,\n        'Content-Type': 'application/json',\n      }\n    })\n      .then(this._handleResponse)\n      .catch(this._handleResponseError)\n  }\n\n  setLike(item, token) {\n    return fetch(`${this.url}/cards/${item}/likes`, {\n      method: 'PUT',\n      headers: {\n        'Authorization': `Bearer ${token}`,\n        'Content-Type': 'application/json',\n      }\n    })\n      .then(this._handleResponse)\n      .catch(this._handleResponseError)\n  }\n\n  removeLike(item, token) {\n    return fetch(`${this.url}/cards/${item}/likes`, {\n      method: 'DELETE',\n      headers: {\n        'Authorization': `Bearer ${token}`,\n        'Content-Type': 'application/json',\n      }\n    })\n      .then(this._handleResponse)\n      .catch(this._handleResponseError)\n  }\n\n  register(email, password) {\n    return fetch(`${this.url}/signup`, {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: (\n        JSON.stringify({ email, password })\n      )\n    })\n      .then(this._handleResponse)\n      .catch(this._handleResponseError)\n  }\n\n  login(email, password) {\n    return fetch(`${this.url}/signin`, {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: (\n        JSON.stringify({ email, password })\n      )\n    })\n      .then(this._handleResponse)\n      .catch(this._handleResponseError)\n  }\n\n  checkToken(token) {\n    return fetch(`${this.url}/users/me`, {\n      method: 'GET',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      },\n    })\n      .then(this._handleResponse)\n      .catch(this._handleResponseError)\n  }\n}\n\nexport const api = new Api({\n  url: 'http://api.pavel.students.nomoredomains.monster',\n  headers: {\n    'Content-Type': 'application/json',\n  }\n})\n\nexport default Api;","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\n\nfunction Card(props) {\n    const { name, likes, link, onCardClick, owner, onClickLike, onCardDelete } = props;\n\n    function handleClick() {\n        onCardClick(link, name)\n    }\n\n    const cardId = React.useContext(CurrentUserContext);\n\n    const isOwn = owner === cardId._id;\n\n\n    const cardDeleteButtonClassName = (\n        `${isOwn ? 'element__trashs_visible' : 'element__trashs'}`\n    );\n\n    const isLiked = likes.some(i => i._id === cardId._id);\n\n    const cardLikeButtonClassName = `${isLiked ? 'element__button-like_active' : 'element__button-like '}`\n\n    return (\n        <div className=\"element\">\n            <img className=\"element__image\" alt={name} src={link} onClick={handleClick} />\n            <button className={cardDeleteButtonClassName} onClick={onCardDelete} type=\"reset\">\n            </button>\n            <div className=\"element__title-like\">\n                <h2 className=\"element__title\">{name}</h2>\n                <div className=\"element__like-counter\">\n                    <button type=\"button\" className={cardLikeButtonClassName} onClick={onClickLike}>\n                    </button>\n                    <p className=\"element__counter\">{likes.length}</p>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Card;\n\n","import React from 'react';\nimport popupVector from '../images/close__icon.svg';\n\nfunction PopupWithForm(props) {\n    return (\n        <div className={`popup popup${props.namePopup} ${props.isOpen ? 'popup_opened' : ''} `}>\n            <form onSubmit={props.onSubmit} name=\"OpenForm\" method=\"get\" action=\"#\" className={`form popup${props.namePopup}__container popup__form`} noValidate>\n                <button type=\"reset\" className=\"popup__vector-button\" onClick={props.close}>\n                    <img className={`popup${props.namePopup}__vector`} src={popupVector} alt=\"кнопка закрытия\" />\n                </button>\n                <div className={`popup${props.namePopup}__content`}>\n                    <h3 className={`popup${props.namePopup}__title`}>{props.title}</h3>\n                    {props.children}\n                    <button type=\"submit\" className={`popup${props.namePopup}__button`}>\n                        {props.titleButton}\n                    </button>\n                </div>\n            </form>\n        </div>\n    )\n}\n\nexport default PopupWithForm;","import React from 'react';\nimport PopupWithForm from './PopupWithForm'\n\nfunction DeletePopup(props) {\n    const { title, namePopup, titleButton, isOpen, close } = props\n\n    return (\n        <PopupWithForm title={title} namePopup={namePopup} titleButton={titleButton} isOpen={isOpen} close={close} onSubmit={props.handleSubmit} />\n    )\n}\n\nexport default DeletePopup","import React from 'react';\nimport PopupWithForm from './PopupWithForm'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\n\nfunction EditProfilePopup(props) {\n    const currentUser = React.useContext(CurrentUserContext);\n    const [name, setName] = React.useState('')\n    const [description, setDescription] = React.useState('')\n    const { onClose, isOpen, onUpdateUser } = props\n    React.useEffect(() => {\n        setName(currentUser.name);\n        setDescription(currentUser.about);\n    }, [currentUser])\n\n    function handleInputChange(evt) {\n        evt.preventDefault()\n        onUpdateUser({\n            name,\n            about: description\n        });\n    }\n\n    function handleChangeName(e) {\n        setName(e.target.value)\n    }\n\n    function handleChangeDescription(e) {\n        setDescription(e.target.value)\n    }\n\n    return (\n        <PopupWithForm title=\"Редактировать профиль\" namePopup=\"\" titleButton=\"Сохранить\" isOpen={isOpen} close={onClose} onSubmit={handleInputChange} >\n            <div className=\"popup__inputs\">\n                <input type=\"text\" autoComplete=\"off\" id=\"user-name\" value={name} name=\"profileName\" className=\"popup__input\" placeholder=\"Имя\" required=\"2\" maxLength=\"40\" onChange={handleChangeName} />\n                <span id=\"user-name-error\" className=\"error\"></span>\n                <input type=\"text\" autoComplete=\"off\" id=\"about-user\" value={description} name=\"info\" className=\"popup__input\" placeholder=\"О себе\" required=\"2\" maxLength=\"200\" onChange={handleChangeDescription} />\n                <span id=\"about-user-error\" className=\"error\"></span>\n            </div>\n        </PopupWithForm>\n    )\n}\n\nexport default EditProfilePopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm'\n\nfunction EditAvatarPopup(props) {\n  const inputRef = React.useRef()\n  const { isOpen, close, onUpdateAvatar } = props\n\n  function handleAvatarSubmit(e) {\n    e.preventDefault();\n    onUpdateAvatar(inputRef.current.value)\n  }\n\n  return (\n    <PopupWithForm title=\"Обновить аватар\" namePopup=\"-avatar\" titleButton=\"Сохранить\" isOpen={isOpen} close={close} onSubmit={handleAvatarSubmit}>\n      <input ref={inputRef} type=\"url\" autoComplete=\"off\" id=\"avatar-link\" name=\"avatar-link\" className=\"popup__input popup-avatar__input-link\" placeholder=\"Ссылка на картинку\" required />\n      <span id=\"avatar-link-error\" className=\"error\"></span>\n    </PopupWithForm>\n  )\n}\n\nexport default EditAvatarPopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm'\n\nfunction AddPlacePopup(props){\n    const {isOpen, close, onAddPlace} = props\n    const [name ,setName] = React.useState('')\n    const [link, setLink] = React.useState('')\n\n    function handleSubmit(e){\n        e.preventDefault();\n\n        onAddPlace({\n            name,\n            link\n        })\n    }\n\n    function getName(e){\n        setName(e.target.value)\n    }\n\n    function getLink(e){\n        setLink(e.target.value)\n    }\n\n    return(\n        <PopupWithForm title=\"Новое место\" namePopup=\"-pluse\" titleButton=\"Создать\" isOpen={isOpen} close={close} onSubmit={handleSubmit}>\n            <div className=\"popup-pluse__inputs\">\n                <input type=\"text\" autoComplete=\"off\" id=\"name-card\" name=\"name\" className=\"popup-pluse__input popup__input\" placeholder=\"Название\" required =\"1\" maxLength=\"30\" onChange={getName}/> \n\n                <span id=\"name-card-error\" className=\"error\"></span>\n\n                <input  type=\"url\" autoComplete=\"off\" id=\"link\" name=\"link\" className=\"popup__input  popup-pluse__input-link\" placeholder=\"Ссылка на картинку\" required onChange={getLink}/> \n\n                <span id=\"link-error\" className=\"error\"></span>\n            </div>\n        </PopupWithForm>\n    )\n}\n\nexport default AddPlacePopup;","import React from 'react';\nimport { Link } from 'react-router-dom'\n\nfunction Register(props) {\n    \n    const [email, setEmail] = React.useState('')\n\n    const [password, setPassword] = React.useState('')\n\n    function handleEmail(e) {\n        setEmail(e.target.value)\n    }\n\n    function handlePassword(e) {\n        setPassword(e.target.value)\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault()\n        props.register(email, password)\n    }\n\n    return (\n        <div className=\"register\">\n            <form onSubmit={handleSubmit} noValidate>\n                <h1 className=\"register__title\">Регистрация</h1>\n                <div className=\"register__input-list\">\n                    <input name=\"email\" type=\"Email\" autoComplete=\"off\" placeholder=\"Email\" className=\"register__input-email\" value={email} required minLength=\"2\" maxLength=\"100\" onChange={handleEmail} />\n                    <input name=\"password\" type=\"password\" autoComplete=\"off\" placeholder=\"Пароль\" className=\"register__input-password\" value={password} required minLength=\"2\" maxLength=\"100\" onChange={handlePassword} />\n                </div>\n                <button type=\"submit\" className=\"register__button\">\n                    Зарегистрироваться\n               </button>\n                <div className=\"register__sing-in\">\n                    <p className=\"register__text\">Уже зарегистрированы?</p>\n                    <Link className=\"register__link\" to=\"/sing-in\">Войти</Link>\n                </div>\n            </form>\n        </div>\n    )\n}\n\nexport default Register","import React from 'react';\n\nfunction Login(props) {\n    const [email, setEmail] = React.useState('')\n\n    const [password, setPassword] = React.useState('')\n\n    function handleEmail(e) {\n        setEmail(e.target.value)\n    }\n\n    function handlePassword(e) {\n        setPassword(e.target.value)\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault()\n        props.login(email, password)\n    }\n\n    return (\n        <div className=\"login\">\n            <form onSubmit={handleSubmit}>\n                <h1 className=\"login__title\">Вход</h1>\n                <div className=\"login__input-list\">\n                    <input type=\"Email\" autoComplete=\"off\" placeholder=\"Email\" value={email} className=\"login__input-email\" required minLength=\"2\" maxLength=\"100\" onChange={handleEmail} />\n                    <input type=\"password\" autoComplete=\"off\" placeholder=\"Пароль\" value={password} className=\"login__input-password\" required minLength=\"2\" maxLength=\"100\" onChange={handlePassword} />\n                </div>\n                <button type=\"submit\" className=\"login__button\">\n                    Войти\n        </button>\n            </form>\n        </div>\n    )\n}\n\nexport default Login ","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom'\n\nfunction ProtectedRoute({ children, ...props }) {\n    if (props.loggedIn ?? props.loading) {\n    return <Route {...props}>{children}</Route>\n    } else {\n      return <Redirect to='/sing-in' />\n    }\n  }\n  \n\nexport default ProtectedRoute;","import React from 'react';\nimport popupVector from '../images/close__icon.svg';\n\nfunction InfoTooltip(props){\n    return(\n        <div className={`popup popup${props.namePopup} ${props.isOpen ? 'popup_opened' : ''} `}>\n            <form name=\"OpenForm\" method=\"get\" action=\"#\" className={`form popup${props.namePopup}__container popup__form`} noValidate>\n                <button type=\"reset\" className=\"popup__vector-button\" onClick={props.close}>\n                    <img className={`popup${props.namePopup}__vector`} src={popupVector} alt=\"кнопка закрытия\" />\n                </button>\n                <div className={`popup${props.namePopup}__content`}>\n                    <img alt=\"изображение ответа\" src={props.image} className={`popup${props.namePopup}__image`} />\n                    <h3 className={`popup${props.namePopup}__title`}>{props.title}</h3>\n                </div>\n            </form>\n        </div>\n    )\n}\n\nexport default InfoTooltip;","import React, { useCallback } from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport '../pages/index.css'\nimport ImagePopup from './ImagePopup'\nimport { api } from '../utils/Api';\nimport Card from './Card'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\nimport DeletePopup from './DeletePopup'\nimport EditProfilePopup from './EditProfilePopup'\nimport EditAvatarPopup from './EditAvatarPopup'\nimport AddPlacePopup from './AddPlacePopup'\nimport Register from './Register'\nimport Login from './Login'\nimport ProtectedRoute from './ProtectedRoute'\nimport { Route, Switch, useHistory } from 'react-router-dom'\nimport union from '../images/union.svg'\nimport union2 from '../images/union2.svg'\nimport InfoTooltip from './InfoTooltip';\n\nfunction App() {\n  const popupDeletSubmitButton = document.querySelector('.popup-delete__button')\n  const popupPluseButton = document.querySelector('.popup-pluse__button')\n  const popupAvatarButton = document.querySelector('.popup-avatar__button')\n  const popupButton = document.querySelector('.popup__button')\n  const history = useHistory()\n\n  const [loggedIIn, setLoggedIIn] = React.useState(false)\n  const [isPopupInfotooltipOpen, setIsPopupInfotooltipOpen] = React.useState(false)\n  const [img, setImg] = React.useState()\n  const [title, setTitle] = React.useState('')\n\n  function tokenCheck() {\n    if (localStorage.getItem('jwt')) {\n      console.log(localStorage.getItem('jwt'))\n      api.checkToken(localStorage.getItem('jwt'))\n        .then((res) => {\n          if (res) {\n            console.log(res)\n            setLoggedIIn(true)\n            setHandleEmail(res.email)\n            history.push('/')\n          }\n        })\n    }\n  }\n  React.useEffect(() => {\n    tokenCheck()\n  }, [])\n\n  const [isLoggedIn, setIsLoggedIn] = React.useState(false)\n\n  React.useEffect(() => {\n    if (isLoggedIn) {\n      Promise.all([api.getUserInfo(localStorage.getItem('jwt')), api.getInitialCards(localStorage.getItem('jwt'))])\n        .then((res) => {\n          console.log(res[0])\n          setCurrentUser(res[0])\n          setCards(res[1])\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n  }, [loggedIIn])\n\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false)\n  const [currentUser, setCurrentUser] = React.useState({\n    name: '',\n    avatar: '',\n    about: '',\n    _id: ''\n  });\n\n  React.useEffect(() => {\n    setIsLoggedIn(true)\n    api.getUserInfo(localStorage.getItem('jwt'))\n      .then(res => {\n        setCurrentUser(res)\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, [])\n\n  const handleEditProfileClick = () => {\n    setIsEditProfilePopupOpen(true)\n  }\n\n  const [isAddPlaceOpen, setIsAddPlaceOpen] = React.useState(false)\n\n  function handleAddPlaceClick() {\n    setIsAddPlaceOpen(true)\n  }\n\n  const [isEditAvatarOpen, setIsEditAvatarOpen] = React.useState(false)\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarOpen(true)\n  }\n\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false)\n    setIsAddPlaceOpen(false)\n    setIsEditAvatarOpen(false)\n    setIsImagePopupOpen(false)\n    setIsPopupDeleteOpen(false)\n    setIsPopupInfotooltipOpen(false)\n  }\n\n  const [isImagePopupOpen, setIsImagePopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({});\n\n  function handleCardClick(link, name) {\n    setSelectedCard({\n      title: name,\n      url: link\n    })\n    setIsImagePopupOpen(true)\n  }\n\n  const [cards, setCards] = React.useState([]);\n\n  React.useEffect(() => {\n    setIsLoggedIn(true)\n    api.getInitialCards(localStorage.getItem('jwt'))\n      .then((data) => {\n        setCards(data)\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, [])\n\n  function handleClickLike(props) {\n    const isLiked = props.likes.some(i => i._id === currentUser._id);\n\n    if (!isLiked) {\n      api.setLike(props._id, localStorage.getItem('jwt'))\n        .then((newCard) => {\n          const newCards = cards.map((c) => c._id === props._id ? newCard : c);\n          setCards(newCards);\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    } else {\n      api.removeLike(props._id, localStorage.getItem('jwt'))\n        .then((newCard) => {\n          const newCards = cards.map((c) => c._id === props._id ? newCard : c);\n          setCards(newCards);\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n  }\n\n  const [isPopupDeleteOpen, setIsPopupDeleteOpen] = React.useState(false)\n  const [cardDelete, setCardDelete] = React.useState([])\n\n  function handleDeleteItem(item) {\n    setCardDelete(item)\n    handleDeleteOpen()\n  }\n\n  function handleDeleteOpen() {\n    setIsPopupDeleteOpen(true)\n  }\n\n  function handleDeleteCard(evt) {\n    evt.preventDefault()\n    popupDeletSubmitButton.textContent = 'Удаление...'\n    api.deleteCard(cardDelete._id, localStorage.getItem('jwt'))\n      .then(() => {\n        const newCards = cards.filter(function (c) {\n          popupDeletSubmitButton.textContent = 'Да'\n          return c._id !== cardDelete._id;\n        })\n        setIsPopupDeleteOpen(false)\n        setCards(newCards)\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleUpdateUser(item) {\n    popupButton.textContent = \"Сохранение...\"\n    api.changeUserInfo(item, localStorage.getItem('jwt'))\n      .then((obj) => {\n        setCurrentUser(obj)\n        setIsEditProfilePopupOpen(false)\n        popupButton.textContent = \"Сохранить\"\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleUpdateAvatar(obj) {\n    popupAvatarButton.textContent = \"Сохранение...\"\n    api.changeAvatar(obj, localStorage.getItem('jwt'))\n      .then((res) => {\n        setCurrentUser(res)\n        setIsEditAvatarOpen(false)\n        popupAvatarButton.textContent = \"Сохранить\"\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleAddPlaceSubmit(item) {\n    popupPluseButton.textContent = \"Сохранение...\"\n    api.addCard(item, localStorage.getItem('jwt'))\n      .then((res) => {\n        setCards([res, ...cards]);\n        setIsAddPlaceOpen(false)\n        popupPluseButton.textContent = \"Сохранить\"\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  const [handleEmail, setHandleEmail] = React.useState('')\n\n  function handleLogIn() {\n    setLoggedIIn(true)\n  }\n\n  function handleClear() {\n    localStorage.removeItem('jwt')\n  }\n\n  function onRegister(email, password) {\n    api.register(email, password).then((res) => {\n      console.log(res)\n      if (res.statusCode !== 400) {\n        setImg(union)\n        setIsPopupInfotooltipOpen(true)\n        setTitle('Вы успешно зарегистрировались!')\n        history.push('/sing-in')\n      }\n    })\n      .catch((err) => {\n        console.log(err)\n        setIsPopupInfotooltipOpen(true)\n        setImg(union2)\n        setTitle('Что-то пошло не так! Попробуйте ещё раз.')\n      })\n  }\n\n  function onLogin(email, password) {\n    setIsLoggedIn(true)\n    api.login(email, password).then((res) => {\n      console.log(res)\n\n      if (res.token) {\n        console.log('true')\n        localStorage.setItem('jwt', res.token)\n        tokenCheck()\n        handleLogIn()\n        setHandleEmail(email)\n        history.push('/')\n\n      }\n    })\n      .catch(() => {\n        console.log('catch')\n        setImg(union2)\n        setTitle('Что-то пошло не так! Попробуйте ещё раз.')\n        setIsPopupInfotooltipOpen(true)\n      })\n  }\n\n\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <InfoTooltip namePopup=\"-infotooltip\" isOpen={isPopupInfotooltipOpen} close={closeAllPopups} image={img} title={title} />\n        <Header email={handleEmail} onClick={handleClear} />\n\n        <Switch>\n          <Route path=\"/sing-in\">\n            <Login login={onLogin} />\n          </Route>\n\n          <Route path=\"/sing-up\">\n            <Register register={onRegister} />\n          </Route>\n          <ProtectedRoute loading={isLoggedIn} loggedIn={loggedIIn} exact path='/'>\n            <DeletePopup title=\"Вы уверенны?\" namePopup=\"-delete\" titleButton=\"Да\" isOpen={isPopupDeleteOpen} close={closeAllPopups} handleSubmit={handleDeleteCard} />\n            <Main onEditProfile={handleEditProfileClick} onAddPlace={handleAddPlaceClick} onEditAvatar={handleEditAvatarClick} >\n            </Main>\n            <section className=\"elements\">\n              {cards.map(({ ...whatever }) => <Card {...whatever} key={whatever._id} onCardDelete={() => handleDeleteItem(whatever)} onCardClick={handleCardClick} onClickLike={() => { handleClickLike(whatever) }} />)}\n            </section>\n            <EditProfilePopup onClose={closeAllPopups} isOpen={isEditProfilePopupOpen} onUpdateUser={handleUpdateUser} />\n            <AddPlacePopup isOpen={isAddPlaceOpen} close={closeAllPopups} onAddPlace={handleAddPlaceSubmit} />\n            <EditAvatarPopup onUpdateAvatar={handleUpdateAvatar} isOpen={isEditAvatarOpen} close={closeAllPopups} />\n            <ImagePopup url={selectedCard.url} title={selectedCard.title} isOpen={isImagePopupOpen} onClose={closeAllPopups}>\n            </ImagePopup>\n          </ProtectedRoute>\n        </Switch>\n\n        <Footer />\n      </div>\n\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n\n\n\n\n\n\n\n\n\n\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App.js';\nimport { BrowserRouter} from 'react-router-dom'\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter> \n    <App/>\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n","module.exports = __webpack_public_path__ + \"static/media/close__icon.5df32a06.svg\";"],"sourceRoot":""}